<script lang="ts" setup>
const props = defineProps({
  modelValue: Boolean,
  codeTicket: {
    type: String,
    required: true
  },
  title: String,
  type: String
})
const emits = defineEmits(['update:modelValue', 'success', 'closed'])
const shown = ref(props.modelValue)
const { $api, $toast } = useNuxtApp()
const disButton = ref(false)
const onResend = ref(false)
const countdown = ref(5)

async function checkTicket (e: any) {
  disButton.value = true
  let codePin
  if (props.type === 'code') {
    codePin = {
      code: props.codeTicket,
      pin: e.pin
    }
  } else {
    codePin = {
      code: e.codeTicket,
      pin: e.pin
    }
  }
  const {
    data,
    error,
    pending
  } = await $api.ticket.getByPin(codePin.code, { pin: codePin.pin })
  if (data.value) emits('success', codePin)
  if (error.value) $toast.error(error.value.data.message)
  if (pending.value) disButton.value = pending.value
  disButton.value = false
}

async function onResendCode () {
  disButton.value = true

  const {
    data,
    error,
    pending
  } = await $api.ticket.resendCode(props.codeTicket)

  if (data.value) {
    $toast.success(data.value.message)
    onResend.value = false
    countdown.value = 5
    interval()
  }
  if (error.value) { $toast.error(error.value.data.message) }
  if (pending.value) { disButton.value = pending.value }

  disButton.value = false
}

function modalClosed () {
  emits('closed')
  shown.value = false
}

function interval () {
  timer = setInterval(() => {
    countdown.value -= 1
    if (countdown.value === 0) {
      clearInterval(timer)
      onResend.value = true
    }
  }, 1000)
}

let timer: string|number|NodeJS.Timeout|undefined

onMounted(() => {
  if (props.type === 'code-pin') {
    interval()
  }
})

onUnmounted(() => {
  if (props.type === 'code-pin') {
    clearInterval(timer)
  }
})
</script>
<template>
  <ModalInfo
    v-model="shown"
    info
    :type="type"
    :icon="false"
    :code-ticket="codeTicket"
    :disable-confirm-button="disButton"
    custom-footer
    @close-info="type === 'code' ? emits('update:modelValue', false) : modalClosed()"
    @close-all="checkTicket($event)"
  >
    <template #icon>
      <svg xmlns="http://www.w3.org/2000/svg" width="63" height="48" viewBox="0 0 63 48" fill="none">
        <path d="M49.0584 25.7144C50.9587 23.9418 52.3212 21.67 52.9901 19.1589C53.659 16.6479 53.6072 13.9992 52.8405 11.5163C52.0738 9.03336 50.6234 6.81656 48.6552 5.11978C46.6871 3.42299 44.2808 2.31484 41.712 1.92224C39.1433 1.52964 36.5159 1.86845 34.1307 2.89989C31.7456 3.93133 29.6992 5.61368 28.2259 7.75426C26.7526 9.89484 25.9119 12.4071 25.8002 15.0033C25.6886 17.5995 26.3103 20.1747 27.5944 22.4339L24.7792 25.0594L25.4572 29.7303L21.0851 28.5353L17.5633 31.8215L18.2642 36.4636L13.8978 35.2399L10.8701 38.0608L11.2838 40.9334L8.618 40.1865L6.85998 41.8296L6.5957 46.1558L13.0476 47.7817L33.9888 28.248C36.472 29.3517 39.2251 29.7 41.905 29.2495C44.5848 28.7989 47.0727 27.5695 49.0584 25.7144ZM46.9902 8.70283C47.5262 9.27684 47.88 9.99695 48.0066 10.7721C48.1333 11.5472 48.0273 12.3425 47.7019 13.0573C47.3764 13.7721 46.8463 14.3743 46.1786 14.7878C45.5108 15.2012 44.7354 15.4073 43.9505 15.38C43.1656 15.3526 42.4064 15.0931 41.769 14.6341C41.1317 14.1752 40.6447 13.5376 40.3699 12.8018C40.095 12.0661 40.0445 11.2654 40.2248 10.501C40.4051 9.73656 40.8081 9.0428 41.3828 8.50749C42.1526 7.79045 43.1755 7.40828 44.2269 7.4449C45.2783 7.48153 46.2721 7.93396 46.9902 8.70283Z" fill="#263238"/>
        <path d="M46.9908 8.7028C46.9908 8.7028 46.7323 8.4615 46.2038 8.12828C45.4523 7.67919 44.5749 7.48756 43.7046 7.58248C42.9992 7.6586 42.329 7.92962 41.7689 8.36519C41.2089 8.80075 40.7812 9.38366 40.5338 10.0486C40.2864 10.7135 40.229 11.4342 40.3681 12.1299C40.5071 12.8256 40.8372 13.4689 41.3212 13.9876C41.8052 14.5063 42.4242 14.88 43.1086 15.0668C43.793 15.2535 44.516 15.2461 45.1964 15.0452C45.8768 14.8442 46.4879 14.4578 46.9611 13.9292C47.4343 13.4006 47.751 12.7507 47.8756 12.0522C48.0353 11.1915 47.9039 10.3021 47.5022 9.52436C47.2149 8.94984 46.9621 8.72003 46.9908 8.69705C47.0196 8.67407 47.0655 8.74876 47.1804 8.86941C47.3493 9.0434 47.4978 9.23617 47.6228 9.44393C48.09 10.2363 48.2648 11.1673 48.1169 12.0752C48.0311 12.6154 47.8378 13.1328 47.5484 13.5968C47.2589 14.0608 46.8792 14.4619 46.4318 14.7764C45.9844 15.0909 45.4784 15.3124 44.9438 15.4277C44.4092 15.543 43.8569 15.5498 43.3197 15.4477C42.4541 15.289 41.6626 14.8557 41.0624 14.2121C40.4623 13.5685 40.0853 12.7487 39.9875 11.8741C39.923 11.3314 39.9682 10.7813 40.1202 10.2564C40.2722 9.73143 40.5281 9.24233 40.8725 8.81804C41.217 8.39374 41.6431 8.04289 42.1256 7.78625C42.6081 7.52961 43.1372 7.37241 43.6816 7.32395C44.5999 7.23916 45.5188 7.47906 46.2785 8.00188C46.4887 8.13685 46.6816 8.29699 46.853 8.47873C46.9909 8.62811 47.0253 8.69705 46.9908 8.7028Z" fill="#263238"/>
        <path d="M49.0583 25.7144C49.0583 25.7144 48.9951 25.7834 48.8573 25.904L48.2483 26.4785C47.4227 27.1508 46.5247 27.7289 45.571 28.2021C43.7557 29.0717 41.7734 29.5369 39.7608 29.5656C37.7482 29.5944 35.7534 29.186 33.914 28.3687H34.0289L13.1221 47.9369L13.0647 48.0001H12.9785L6.52668 46.3799L6.39453 46.3512V46.2133C6.47496 44.8632 6.56115 43.3867 6.65307 41.8872V41.7493L6.69903 41.7033L8.49727 40.0257L8.56046 39.9625H8.65239L11.3182 40.7094L11.1056 40.8932C10.9735 40.0027 10.8356 39.026 10.6919 38.0206V37.9345L10.7551 37.877L13.7829 35.0504L13.8518 34.9814H13.9437L18.3101 36.2052L18.0975 36.3947C17.8849 34.9125 17.6551 33.3268 17.4253 31.7239V31.632L17.4943 31.5745L18.425 30.7013L21.0161 28.2883L21.085 28.2193H21.1769L25.549 29.4431L25.3307 29.6327C25.1047 28.0585 24.8807 26.5015 24.6585 24.9618V24.8756L24.7217 24.8124L27.5369 22.1869L27.5081 22.3937C26.4187 20.4584 25.8025 18.2929 25.7099 16.074C25.6562 15.0019 25.7334 13.9273 25.9397 12.8739C26.1279 11.8381 26.4364 10.8277 26.8589 9.86341C27.9246 7.42453 29.6652 5.34109 31.8756 3.85861C34.0861 2.37613 36.6742 1.5564 39.3351 1.49603C41.996 1.43565 44.6186 2.13714 46.894 3.51783C49.1695 4.89851 51.0028 6.90086 52.178 9.2889C53.2801 11.5419 53.7507 14.0516 53.5396 16.5508C53.3939 18.4138 52.8659 20.2268 51.9884 21.8766C51.9022 22.049 51.816 22.2099 51.7299 22.3707L51.4483 22.8074C51.2588 23.0889 51.1036 23.3819 50.9198 23.5944C50.5463 24.0426 50.2591 24.4447 49.9776 24.7435L49.2882 25.5076L49.0641 25.7144C49.0641 25.7144 49.1273 25.634 49.2652 25.4846L49.8857 24.8239C50.1557 24.5367 50.4602 24.1287 50.7991 23.6749C50.9715 23.4393 51.1209 23.1636 51.3047 22.8878C51.3966 22.7442 51.4886 22.6005 51.5805 22.4454L51.8333 21.9571C52.6819 20.3242 53.1933 18.5373 53.3369 16.7027C53.4805 14.8681 53.2534 13.0233 52.6691 11.2783C52.0849 9.53332 51.1554 7.92376 49.936 6.54551C48.7166 5.16726 47.2324 4.04852 45.5716 3.25593C43.9108 2.46333 42.1075 2.0131 40.269 1.93204C38.4306 1.85097 36.5947 2.14075 34.8706 2.7841C33.1465 3.42745 31.5695 4.41121 30.2336 5.67679C28.8976 6.94236 27.8301 8.46387 27.0945 10.1507C26.6848 11.0939 26.3841 12.0808 26.1982 13.0922C26.0018 14.1217 25.9285 15.1708 25.9799 16.2176C26.0779 18.3766 26.6821 20.4824 27.7437 22.365L27.8069 22.4799L27.7092 22.5718L24.8998 25.1974L24.9515 25.048C25.1737 26.58 25.3977 28.1389 25.6237 29.7246L25.6639 29.9831L25.4054 29.9142L21.039 28.6904L21.2056 28.6502L18.6146 31.0632L17.6896 31.9192L17.7413 31.7641C17.9711 33.367 18.2009 34.9585 18.4135 36.435L18.4537 36.6992L18.1952 36.6303L13.8288 35.4008L13.9897 35.3606C12.9498 36.3373 11.9157 37.2967 10.962 38.1873L11.0194 38.0379C11.1573 39.0203 11.2952 39.997 11.4273 40.9105L11.4618 41.1633L11.2148 41.0943L8.55473 40.3474L8.70984 40.3072L6.94606 41.9504L6.99779 41.8412C6.90586 43.3407 6.81393 44.8172 6.7335 46.1673L6.61285 46.0007L13.0647 47.6266L12.9211 47.6668L33.891 28.1676L33.9427 28.1217H34.0059C35.8197 28.9378 37.7882 29.3532 39.7771 29.3393C41.7661 29.3254 43.7286 28.8827 45.5308 28.0412C46.4816 27.5882 47.3827 27.0376 48.2196 26.3981L48.8458 25.8753L49.0583 25.7144Z" fill="#263238"/>
        <path d="M48.5932 24.146C50.4926 22.3745 51.8546 20.104 52.5235 17.5943C53.1923 15.0847 53.1409 12.4374 52.375 9.95565C51.6092 7.47389 50.16 5.25796 48.1933 3.5616C46.2266 1.86523 43.8219 0.757015 41.2546 0.363843C38.6873 -0.0293285 36.0612 0.30844 33.6769 1.33847C31.2927 2.3685 29.2467 4.04915 27.7732 6.18798C26.2998 8.3268 25.4585 10.8373 25.3456 13.4321C25.2327 16.0269 25.8528 18.601 27.1349 20.8597L24.3255 23.4795L24.9977 28.1561L20.6314 26.9267L17.1153 30.2187L17.7875 34.8895L13.4212 33.6658L10.3934 36.4924L10.8014 39.365L8.14133 38.6239L6.37756 40.267L6.11328 44.5932L12.5651 46.2133L33.5064 26.6796C35.9912 27.7893 38.7484 28.1409 41.4323 27.6902C44.1161 27.2394 46.6072 26.0065 48.5932 24.146ZM46.548 7.13445C47.084 7.70846 47.4378 8.42858 47.5644 9.20369C47.6911 9.9788 47.5851 10.7741 47.2597 11.4889C46.9342 12.2037 46.4041 12.8059 45.7364 13.2194C45.0686 13.6328 44.2932 13.8389 43.5083 13.8116C42.7234 13.7842 41.9642 13.5247 41.3268 13.0658C40.6895 12.6069 40.2025 11.9692 39.9276 11.2335C39.6528 10.4977 39.6023 9.69702 39.7826 8.9326C39.9629 8.16819 40.3659 7.47443 40.9406 6.93911C41.3215 6.58337 41.7687 6.3062 42.2567 6.12346C42.7447 5.94073 43.264 5.856 43.7848 5.87415C44.3056 5.89229 44.8177 6.01294 45.2918 6.2292C45.766 6.44545 46.1928 6.75307 46.548 7.13445Z" fill="#2953A1"/>
        <path d="M46.5477 7.1344C46.5477 7.1344 46.2891 6.8931 45.7606 6.55988C45.0166 6.09598 44.1391 5.89378 43.2672 5.98536C42.5637 6.0627 41.8955 6.33424 41.3375 6.76959C40.7795 7.20494 40.3536 7.78695 40.1074 8.45051C39.8613 9.11408 39.8046 9.83305 39.9437 10.527C40.0828 11.221 40.4121 11.8625 40.895 12.38C41.3779 12.8974 41.9952 13.2704 42.6779 13.457C43.3605 13.6437 44.0817 13.6368 44.7607 13.4371C45.4397 13.2373 46.0497 12.8526 46.5226 12.326C46.9954 11.7994 47.3124 11.1516 47.4382 10.4551C47.5966 9.59378 47.4632 8.7042 47.059 7.92723C46.7717 7.35271 46.5247 7.12291 46.5477 7.09993C46.5707 7.07695 46.6224 7.15163 46.743 7.27228C46.9099 7.44662 47.0564 7.63936 47.1797 7.8468C47.6486 8.64064 47.8235 9.57409 47.6737 10.4839C47.5872 11.023 47.3936 11.5394 47.1043 12.0026C46.815 12.4658 46.4358 12.8663 45.9893 13.1806C45.5427 13.4949 45.0377 13.7167 44.5041 13.8327C43.9705 13.9487 43.419 13.9568 42.8823 13.8563C42.017 13.7061 41.223 13.2815 40.6177 12.6452C40.0124 12.0089 39.628 11.1947 39.5213 10.323C39.4585 9.78054 39.5048 9.23102 39.6575 8.70672C39.8101 8.18243 40.0661 7.69395 40.4103 7.27001C40.7545 6.84607 41.1799 6.49522 41.6617 6.2381C42.1434 5.98098 42.6717 5.82277 43.2155 5.77278C44.1345 5.68918 45.0536 5.93117 45.8123 6.45646C46.0237 6.58974 46.2169 6.75005 46.3868 6.93332C46.5075 7.05971 46.5592 7.12865 46.5477 7.1344Z" fill="#263238"/>
        <path d="M48.5936 24.146C48.5936 24.146 48.5304 24.2149 48.3983 24.3356L47.7893 24.8756C46.9624 25.5461 46.0647 26.1241 45.112 26.5992C43.2957 27.4685 41.3124 27.9335 39.2989 27.9623C37.2855 27.9911 35.2897 27.5828 33.4493 26.7658H33.5642L12.6632 46.3339L12.6 46.3914H12.5195L6.06194 44.7712L5.93555 44.7368V44.6046C6.01598 43.2545 6.10789 41.778 6.19407 40.2785V40.2095L6.24004 40.1693L8.00382 38.5205L8.07276 38.4573H8.16469L10.8247 39.1984L10.6121 39.388C10.4857 38.4975 10.3421 37.5208 10.1985 36.5154V36.4292L10.2674 36.366L13.2894 33.5451L13.3583 33.4762L13.456 33.5049L17.8224 34.7286L17.604 34.9182L16.9318 30.2589V30.1669L16.995 30.1037L17.9315 29.2362L20.5169 26.8232L20.5858 26.7543L20.6834 26.783L25.0498 28.0067L24.8315 28.1963C24.6055 26.6222 24.3815 25.0652 24.1593 23.5255V23.4336L24.2282 23.3761L27.0434 20.7506L27.0089 20.9574C25.9195 19.0221 25.3033 16.8566 25.2107 14.6377C25.1598 13.5656 25.2369 12.4914 25.4405 11.4376C25.6297 10.402 25.9382 9.39177 26.3597 8.4271C27.6669 5.38802 30.0129 2.91328 32.9779 1.44575C35.9429 -0.0217762 39.3334 -0.386316 42.5426 0.417365C45.7518 1.22105 48.5703 3.1405 50.4936 5.83223C52.417 8.52396 53.3198 11.8123 53.0404 15.1088C52.8939 16.9716 52.3659 18.7844 51.4892 20.4346L51.2307 20.9287L50.9491 21.3653C50.7596 21.6468 50.6044 21.9398 50.4263 22.1524C50.0529 22.6005 49.7656 23.0027 49.4841 23.3014L48.8177 23.9391C48.674 24.0828 48.5936 24.1517 48.5936 24.1517C48.5936 24.1517 48.6625 24.0655 48.8004 23.9162L49.4152 23.2612C49.6852 22.974 49.9897 22.566 50.3287 22.1122C50.501 21.8824 50.6561 21.6066 50.84 21.3251L51.1157 20.8884L51.3628 20.3944C52.212 18.7536 52.7183 16.9572 52.8508 15.1145C53.0949 11.888 52.1898 8.67915 50.2957 6.05577C48.4016 3.43239 45.6405 1.56361 42.501 0.780126C39.3616 -0.0033577 36.0462 0.348966 33.1416 1.77475C30.2369 3.20053 27.9302 5.60786 26.6297 8.57073C26.2219 9.51415 25.9231 10.5011 25.7392 11.5123C25.5397 12.5413 25.4664 13.5909 25.5209 14.6377C25.6172 16.7962 26.2194 18.902 27.2789 20.785L27.3479 20.8999L27.2502 20.9918L24.4351 23.6174L24.4868 23.468C24.7127 25.0001 24.9368 26.557 25.159 28.1389L25.1992 28.4032L24.9464 28.3285L20.5628 27.099L20.7237 27.0588L18.1383 29.4775L17.2019 30.345L17.2536 30.1957C17.4891 31.7986 17.7132 33.3843 17.9258 34.8665L17.966 35.1308L17.7132 35.0561L13.3411 33.8324L13.5077 33.7922L10.48 36.613L10.5317 36.4694C10.6696 37.4519 10.8132 38.4228 10.9396 39.3133L10.9741 39.5718L10.727 39.5029L8.06701 38.756L8.22212 38.7158L6.46409 40.3589L6.5158 40.244C6.42388 41.7435 6.33195 43.2258 6.24577 44.5702L6.12513 44.4035L12.577 46.0352L12.4334 46.0754L33.4033 26.5762L33.455 26.5302L33.5182 26.559C35.3331 27.3711 37.3011 27.7842 39.2894 27.7703C41.2776 27.7564 43.2397 27.3159 45.0431 26.4785C45.9951 26.0245 46.898 25.4739 47.7376 24.8354L48.3581 24.3126L48.5936 24.146Z" fill="#263238"/>
        <path d="M47.3234 23.0658C48.0056 22.3355 48.6281 21.5517 49.1849 20.7218C49.8151 19.7381 50.2935 18.6651 50.6039 17.5389C51.0285 16.0463 51.1631 14.4861 51.0003 12.9428C50.8116 11.0778 50.1878 9.28312 49.1791 7.70314C48.0173 5.89434 46.3953 4.42705 44.4795 3.45169C43.4534 2.91741 42.3506 2.5453 41.2105 2.34861C40.6242 2.23908 40.0311 2.16998 39.4353 2.14178C38.8268 2.13242 38.2184 2.16313 37.614 2.23371C35.0758 2.52482 32.6978 3.62216 30.8292 5.36457C28.9606 7.10697 27.7 9.40262 27.2325 11.9144C27.1199 12.5121 27.0469 13.1167 27.0142 13.7241C27.0023 14.321 27.0311 14.9179 27.1003 15.5109C27.2161 16.6622 27.5107 17.7883 27.9736 18.8488C28.8125 20.8287 30.1652 22.5484 31.8918 23.8299C33.3948 24.9489 35.1409 25.697 36.9878 26.0131C38.5105 26.283 40.0709 26.2576 41.584 25.9384C42.7292 25.7034 43.833 25.2987 44.8587 24.7377C45.7249 24.2427 46.5492 23.6778 47.3234 23.0486C47.3234 23.0486 47.2832 23.1003 47.1855 23.1865L46.7546 23.5771C46.5239 23.7888 46.276 23.9809 46.0135 24.1516C45.6682 24.4131 45.3033 24.6474 44.9219 24.8526C43.8938 25.4414 42.7817 25.8696 41.6242 26.1223C38.8305 26.7462 35.9066 26.3725 33.3596 25.066C30.8127 23.7595 28.8035 21.6026 27.6806 18.9695C27.2013 17.8744 26.895 16.7115 26.7729 15.5224C26.6082 14.3086 26.6451 13.0759 26.882 11.8742C27.3591 9.28963 28.6541 6.92683 30.5761 5.13419C32.498 3.34155 34.9451 2.21397 37.5566 1.91772C38.7867 1.7594 40.0343 1.80209 41.2508 2.04412C42.421 2.25437 43.5524 2.64184 44.6059 3.19316C46.5678 4.19976 48.2242 5.71338 49.4032 7.57674C50.3339 9.05633 50.9392 10.717 51.1789 12.4485C51.4186 14.1799 51.2872 15.9426 50.7935 17.6194C50.4622 18.759 49.9564 19.8404 49.294 20.8252C49.0664 21.1905 48.8089 21.5364 48.5242 21.8593C48.3329 22.1098 48.1216 22.3442 47.8922 22.5602L47.4728 22.9624C47.3809 23.0256 47.3292 23.0715 47.3234 23.0658Z" fill="#263238"/>
        <path d="M46.7651 13.2472C46.7364 13.2472 47.0524 12.9484 47.4373 12.3337C47.9787 11.4563 48.2094 10.4223 48.0922 9.39791C48.0127 8.64746 47.7451 7.9292 47.3143 7.30959C46.8835 6.68998 46.3033 6.18904 45.6275 5.85312C44.838 5.44904 43.9455 5.29094 43.0652 5.39925C42.374 5.4826 41.7115 5.72526 41.1299 6.10814C40.5484 6.49101 40.0637 7.00364 39.714 7.60568C39.3642 8.20771 39.159 8.88271 39.1144 9.57753C39.0699 10.2724 39.1872 10.968 39.4572 11.6098C39.7735 12.3482 40.2763 12.9917 40.9165 13.477C41.4802 13.8969 42.1328 14.1819 42.8239 14.3101C43.8387 14.4971 44.887 14.3373 45.7999 13.8562C46.4434 13.5172 46.7364 13.2185 46.7651 13.2472C46.7938 13.2759 46.7019 13.3334 46.5583 13.4655C46.3489 13.6644 46.1153 13.8362 45.8631 13.9768C45.0764 14.4325 44.1742 14.6495 43.2664 14.6016C42.3585 14.5536 41.4842 14.2427 40.7499 13.7068C40.0152 13.1754 39.4469 12.4459 39.1112 11.6036C38.7755 10.7613 38.6862 9.84088 38.854 8.94979C39.0392 7.94002 39.5451 7.01686 40.2964 6.31727C41.0477 5.61767 42.0046 5.17889 43.025 5.06603C43.9717 4.95167 44.9309 5.12588 45.7769 5.56586C46.5402 5.96387 47.1829 6.559 47.6384 7.28942C48.1183 8.06041 48.3655 8.95357 48.3502 9.86162C48.3349 10.7697 48.0578 11.654 47.5522 12.4084C47.3878 12.649 47.1949 12.869 46.9777 13.0633C46.8513 13.1955 46.7708 13.2587 46.7651 13.2472Z" fill="#263238"/>
        <path d="M10.8639 45.4204C10.8007 45.3515 15.5118 40.8243 21.3949 35.3606C27.2779 29.8969 32.0981 25.4846 32.1613 25.5535C32.2245 25.6225 27.5135 30.1497 21.6304 35.6134C15.7473 41.0771 10.9271 45.4894 10.8639 45.4204Z" fill="#263238"/>
        <path d="M13.4605 18.0044L13.6558 17.5792L13.9086 17.9699C14.1151 18.282 14.406 18.529 14.7474 18.6823L15.1783 18.8719L14.7876 19.1304C14.4728 19.3354 14.2235 19.6266 14.0695 19.9692L13.8799 20.3944L13.6214 20.0037C13.4158 19.6907 13.1247 19.4435 12.7826 19.2913L12.3574 19.1017L12.7481 18.8432C13.0628 18.6396 13.3106 18.3479 13.4605 18.0044Z" fill="#2953A1"/>
        <path d="M0.643459 14.81L0.752619 14.563L0.902 14.7871C1.02032 14.9702 1.19026 15.1141 1.39034 15.2007L1.63738 15.3156L1.40758 15.465C1.22706 15.5838 1.08369 15.751 0.993925 15.9476L0.884765 16.2004L0.735384 15.9706C0.617059 15.7874 0.447139 15.6435 0.247057 15.5569L0 15.442L0.224071 15.2984C0.406105 15.1772 0.55121 15.0083 0.643459 14.81Z" fill="#2953A1"/>
        <path d="M41.0146 36.659L41.1237 36.412L41.2731 36.6418C41.3961 36.8207 41.5647 36.9636 41.7614 37.0554L42.0085 37.1646L41.7844 37.314C41.6013 37.4323 41.4573 37.6022 41.3708 37.8023L41.2558 38.0494L41.1065 37.8253C40.9885 37.6427 40.8212 37.4972 40.6239 37.4059L40.3711 37.2967L40.6009 37.1474C40.784 37.029 40.928 36.8591 41.0146 36.659Z" fill="#2953A1"/>
        <path d="M60.7787 25.4558L60.9683 25.0306L61.2269 25.4213C61.4322 25.7345 61.7234 25.9818 62.0657 26.1337L62.4908 26.3233L62.1001 26.5819C61.7867 26.7869 61.5393 27.0782 61.3877 27.4206L61.1924 27.8458L60.9396 27.4551C60.7315 27.1445 60.4411 26.8978 60.1008 26.7427L59.6699 26.5531L60.0606 26.2946C60.3754 26.0896 60.6247 25.7985 60.7787 25.4558Z" fill="#2953A1"/>
        <path d="M58.2091 9.76002L58.5308 9.04187L58.9617 9.70257C59.3079 10.2279 59.796 10.6442 60.3693 10.9033L61.0874 11.2193L60.4267 11.6502C59.9023 11.9998 59.4863 12.4894 59.226 13.0635L58.9043 13.7817L58.4734 13.121C58.1272 12.5957 57.6391 12.1793 57.0658 11.9202L56.3477 11.5985L57.0083 11.1676C57.5337 10.8214 57.95 10.3333 58.2091 9.76002Z" fill="#2953A1"/>
        <path d="M9.48069 4.9225L9.80242 4.20435L10.2333 4.8593C10.5778 5.38609 11.0664 5.80286 11.6409 6.06004L12.359 6.38178L11.7041 6.81267C11.1758 7.15544 10.7586 7.6445 10.5033 8.22024L10.1816 8.93839L9.75071 8.28344C9.40539 7.75515 8.91454 7.33812 8.3374 7.08269L7.625 6.76096L8.27994 6.33007C8.80673 5.98555 9.2235 5.497 9.48069 4.9225Z" fill="#2953A1"/>
      </svg>
    </template>
    <template #content>
      {{ title }}
    </template>
    <template #footer="event">
      <div class="space-y-2">
        <h1 v-if="type === 'code-pin' && countdown > 0" class="text-center">
          Tidak menerima kode? Tunggu dalam {{ countdown }} detik
        </h1>
        <div class="flex justify-evenly">
          <CButton
            text="Batalkan"
            type="outlined"
            @click="type === 'code' ? emits('update:modelValue', false) : modalClosed()"
          />
          <CButton
            v-if="type === 'code-pin' && onResend"
            text="Kirim Ulang Kode"
            color="success"
            :disabled="disButton"
            @click="onResendCode()"
          />
          <CButton
            :text="type === 'code' ? 'Konfirmasi' : 'Kirim'"
            :disabled="disButton"
            @click="checkTicket(event)"
          />
        </div>
      </div>
    </template>
  </ModalInfo>
</template>
